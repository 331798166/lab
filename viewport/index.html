<!DOCTYPE HTML>
<html>
    <head>
        <meta name="viewport" content=""> 
        <meta charset="utf-8">
        <title>view port</title>
        <style type="text/css">
            html { background-color: white; color: red; }
            body { background-color: blue; /*border: 8px dotted green;*/ margin: 0; width: 100%; }

            .font-20 { font-size: 20px; font-weight: bold;  }
            #nav { background-color:#78D035; width: 100%; height:100px; }
            #plotting { background-color:#333; width: 50px; height:100px; }
        </style>
        <script type="text/javascript" src='/include/lib/LAB.src.js'></script>
    </head>

<body>
    <h1>VIEW PORT</h1>
    <hr>
    <p></p>
    <hr>
    <p></p>
    <hr>
    <div class='font-20' id="nav"></div>
    <div class='font-20' id='plotting'></div>
<!--     <hr>
    <div id="divParent" style="padding: 8px; background-color: #aaa; position: relative;">
        <div id="divDisplay" style="background-color: #0f0; margin: 30px; padding: 10px;
            height: 200px; width: 200px; border: solid 3px #f00;">
        </div>
    </div>
    <hr>
    <div id="divParent_scorll" style="background-color: #aaa; padding:8px; border:solid 7px #000; height:200px;  overflow:auto;">
        <div id="divDisplay_scorll" style="background-color: #0f0; margin: 30px; padding: 10px;
            height: 400px; width: 200px; border: solid 3px #f00;">
        </div>
    </div>
    <hr> -->
</body>
    <script type="text/javascript">
        var domP = document.getElementsByTagName('p'),
            _viewPortContent = domP[0],
            _screen = domP[1],
            _viewPortText = '',
            _nav = document.getElementById('nav'),
            _plotting = document.getElementById('plotting');


        function getScreenToWeb() {
            var html = sun.md.deviceInfo.screen();

            html = sun.util.replaceAll(html, '\n', '</br>');

            return html;
        }

        function getScrollOffsets(w) {
            var w = w || window;
            if (w.pageXoffset != null) {
                return { x: w.pageXoffset, y: pageYoffset };
            }
            var d = w.document;
            if (document.compatMode == "CSS1Compat")
                return { x: d.documentElement.scrollLeft, y: d.documentElement.scrollTop };
            return { x: d.body.scrollLeft, y: d.body.scrollTop };
        }

        function getViewPortSize(w) {
            var w = w || window;
            if (w.innerWidth != null)
                return { w: w.innerWidth, h: w.innerHeight };
            var d = w.document;
            if (document.compatMode == "CSS1Compat")
                return { w: d.documentElement.clientWidth, h: d.documentElement.clientHeight };
            return { w: d.body.clientWidth, h: d.body.clientHeight };
        }

        //dom concept
        function fnDomConcept() {
            var div = document.getElementById('divDisplay');

            var clientHeight = div.clientHeight;
            var clientWidth = div.clientWidth;
            div.innerHTML += 'clientHeight: ' + clientHeight + '<br/>';
            div.innerHTML += 'clientWidth: ' + clientWidth + '<br/>';

            var clientLeft = div.clientLeft;
            var clientTop = div.clientTop;
            div.innerHTML += 'clientLeft: ' + clientLeft + '<br/>';
            div.innerHTML += 'clientTop: ' + clientTop + '<br/>';

            var offsetHeight = div.offsetHeight;
            var offsetWidth = div.offsetWidth;
            div.innerHTML += 'offsetHeight: ' + offsetHeight + '<br/>';
            div.innerHTML += 'offsetWidth: ' + offsetWidth + '<br/>';

            var offsetLeft = div.offsetLeft;
            var offsetTop = div.offsetTop;
            div.innerHTML += 'offsetLeft: ' + offsetLeft + '<br/>';
            div.innerHTML += 'offsetTop: ' + offsetTop + '<br/>';

            var offsetParent = div.offsetParent;
            div.innerHTML += 'offsetParent: ' + offsetParent.id + '<br/>';
        }
        function fnDomScorllConcept() {
            var divP = document.getElementById('divParent_scorll');
            var divD = document.getElementById('divDisplay_scorll');

            var scrollHeight = divP.scrollHeight;
            var scrollWidth = divP.scrollWidth;
            divD.innerHTML += 'scrollHeight: ' + scrollHeight + '<br/>';
            divD.innerHTML += 'scrollWidth: ' + scrollWidth + '<br/>';
        }


        function main(){
            //document.getElementsByTagName('body')[0].style.width = '100%';
            _viewPortText = sun.md.getViewPortContent(516 ,null, false);
            _viewPortContent.innerHTML = _viewPortText;
            _screen.innerHTML = getScreenToWeb();
            _nav.innerHTML = "width:" + _nav.offsetWidth + '<br/>height:' + _nav.offsetHeight;
            _plotting.innerHTML = "width:" + _plotting.offsetWidth + '<br/>height:' + _plotting.offsetHeight;
        }

        //fnDomConcept();
        //fnDomScorllConcept();

        $LAB
        .script('/include/lib/jquery.min.js')
        .script('/include/lib/underscore.js')
        .script('/include/sun.js')
        .script('/include/sun.md.js')
        .script('/include/sun.util.js').wait(function() {
            sun.md.setViewPortContent({initWidth : '100%'});
            
            main();
        });


        // window.onload = function() {
        //     document.getElementsByName('viewport')[0].content = _viewPortText;
        // };
    </script>
</html>
